<!DOCTYPE html>
<html lang="es" class="antialiased">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <!-- SEO OPTIMIZADO PARA ADSENSE Y NUEVO ENFOQUE -->
    <meta name="description" content="GOD'S PLAN: El Hub central donde recopilo mis proyectos personales. Herramientas de finanzas, adherencia laboral, programaci贸n y productividad en un solo ecosistema.">
    <meta name="keywords" content="proyectos personales, hub de herramientas, portafolio desarrollador, productividad, finanzas, coding">
    <meta name="theme-color" content="#000000">
    <title>GOD'S PLAN | Hub de Proyectos Personales</title>

    <!-- FAVICON -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'></text></svg>">

    <!-- LIBRERAS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@200;300;400;500;600;700;800&family=JetBrains+Mono:wght@400;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/@phosphor-icons/web"></script>

    <!-- ADSENSE SCRIPT (Descomentar al tener la aprobaci贸n) -->
    <!-- <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8248737244883883" crossorigin="anonymous"></script> -->

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['"Plus Jakarta Sans"', 'sans-serif'],
                        mono: ['"JetBrains Mono"', 'monospace'],
                    },
                    colors: {
                        brand: { DEFAULT: '#FF2A2A', hover: '#D90000', glow: 'rgba(255, 42, 42, 0.5)' },
                        bg: { main: '#030303', surface: '#0D0D0D', glass: 'rgba(20, 20, 20, 0.6)' },
                        border: { DEFAULT: 'rgba(255,255,255,0.08)', hover: 'rgba(255,255,255,0.15)' },
                    },
                    backgroundImage: {
                        'gradient-radial': 'radial-gradient(var(--tw-gradient-stops))',
                        'mesh': 'radial-gradient(circle at 50% -20%, rgba(255, 42, 42, 0.15), transparent 70%)'
                    },
                    animation: {
                        'fade-in-up': 'fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards',
                        'pulse-glow': 'pulseGlow 4s ease-in-out infinite',
                    },
                    keyframes: {
                        fadeInUp: {
                            '0%': { opacity: '0', transform: 'translateY(20px) scale(0.98)' },
                            '100%': { opacity: '1', transform: 'translateY(0) scale(1)' }
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: '0.4' },
                            '50%': { opacity: '0.8' }
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* BASE & UTILS */
        body { background-color: #030303; color: #E5E5E5; overflow-x: hidden; }
        
        /* SCROLLBAR */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #030303; }
        ::-webkit-scrollbar-thumb { background: #333; border-radius: 3px; }
        ::-webkit-scrollbar-thumb:hover { background: #FF2A2A; }

        /* GLASSMORPHISM */
        .glass-panel {
            background: rgba(13, 13, 13, 0.6);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
        }

        /* CARD HOVER EFFECT 3D */
        .module-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            background: #090909;
            text-decoration: none;
            position: relative;
        }
        .module-card:hover {
            transform: translateY(-5px) scale(1.02);
            border-color: rgba(255, 42, 42, 0.4);
            box-shadow: 0 0 30px rgba(255, 42, 42, 0.15);
            background: #0D0D0D;
        }
        .module-card::after {
            content: ''; position: absolute; inset: 0;
            background: radial-gradient(800px circle at var(--mouse-x) var(--mouse-y), rgba(255,255,255,0.06), transparent 40%);
            opacity: 0; transition: opacity 0.5s; pointer-events: none; border-radius: inherit;
        }
        .module-card:hover::after { opacity: 1; }

        /* INPUT ANIMATION */
        .input-group input:focus ~ label,
        .input-group input:not(:placeholder-shown) ~ label,
        .input-group select:focus ~ label,
        .input-group select:valid ~ label {
            transform: translateY(-24px) scale(0.85);
            color: #FF2A2A;
        }

        /* TOAST NOTIFICATION */
        .toast {
            transform: translateX(120%);
            transition: transform 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        .toast.show { transform: translateX(0); }

        /* AVATAR SELECTOR */
        .avatar-option.selected {
            border-color: #FF2A2A;
            background-color: rgba(255, 42, 42, 0.1);
            color: white;
        }

        /* LANDING SPECIFIC */
        .hero-text {
            background: linear-gradient(to right, #ffffff 0%, #a1a1aa 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* LEGAL PAGES */
        .legal-content h2 { font-size: 1.5rem; font-weight: 700; color: white; margin-top: 2rem; margin-bottom: 1rem; }
        .legal-content h3 { font-size: 1.25rem; font-weight: 600; color: #e4e4e7; margin-top: 1.5rem; margin-bottom: 0.75rem; }
        .legal-content p { color: #a1a1aa; margin-bottom: 1rem; line-height: 1.6; }
        .legal-content ul { list-style-type: disc; padding-left: 1.5rem; color: #a1a1aa; margin-bottom: 1rem; }
        .legal-content li { margin-bottom: 0.5rem; }
    </style>
</head>
<body class="min-h-screen flex flex-col relative selection:bg-brand selection:text-white">

    <!-- FONDO AMBIENTAL -->
    <div class="fixed inset-0 z-0 pointer-events-none">
        <div class="absolute top-0 left-1/2 -translate-x-1/2 w-full h-[80vh] bg-mesh opacity-60"></div>
        <div class="absolute bottom-0 right-0 w-[500px] h-[500px] bg-brand-glow blur-[120px] rounded-full opacity-10"></div>
    </div>

    <!-- LOADER INICIAL -->
    <div id="app-loader" class="fixed inset-0 z-[60] bg-black flex flex-col items-center justify-center transition-opacity duration-500">
        <i class="ph-duotone ph-planet text-brand text-6xl animate-pulse"></i>
        <div class="mt-4 w-32 h-1 bg-zinc-800 rounded-full overflow-hidden">
            <div class="h-full bg-brand animate-[loading_1s_ease-in-out_infinite] w-1/2"></div>
        </div>
        <style> @keyframes loading { 0% { transform: translateX(-100%); } 100% { transform: translateX(200%); } } </style>
    </div>

    <!-- TOAST CONTAINER -->
    <div id="toast-container" class="fixed top-6 right-6 z-[70] flex flex-col gap-3 pointer-events-none"></div>

    <!-- PUBLIC NAVBAR (Visible en Landing y P谩ginas Legales) -->
    <nav id="public-nav" class="fixed top-0 w-full z-40 border-b border-border bg-bg-glass backdrop-blur-md px-6 py-4 flex justify-between items-center transition-all duration-300">
        <div class="flex items-center gap-2 cursor-pointer" onclick="window.app.returnToLanding()">
            <i class="ph-duotone ph-planet text-brand text-2xl"></i>
            <span class="font-bold tracking-tight text-lg text-white">GOD'S PLAN</span>
        </div>
        <div class="flex items-center gap-4">
            <button onclick="window.app.returnToLanding()" class="text-sm text-zinc-400 hover:text-white hidden md:block transition-colors">Inicio</button>
            <button onclick="window.app.toggleAuthModal()" class="px-5 py-2 bg-white text-black text-sm font-bold rounded-full hover:bg-brand hover:text-white transition-all">
                Acceso al Hub
            </button>
        </div>
    </nav>

    <!-- DASHBOARD NAVBAR (Oculto en Landing) -->
    <nav id="navbar" class="hidden fixed top-0 w-full z-40 border-b border-border bg-bg-glass backdrop-blur-md px-6 py-3 flex justify-between items-center transition-all duration-300">
        <div class="flex items-center gap-3">
            <i id="nav-user-icon" class="ph-duotone ph-planet text-brand text-2xl"></i>
            <span class="font-bold tracking-tight text-lg">GOD'S PLAN</span>
        </div>
        <div class="flex items-center gap-4">
            <div class="hidden md:flex flex-col items-end mr-2">
                <span id="nav-time" class="text-xs font-mono text-white">00:00:00</span>
                <span id="nav-date" class="text-[10px] text-zinc-500 uppercase tracking-wider">LOADING...</span>
            </div>
            <div class="h-8 w-[1px] bg-white/10 hidden md:block"></div>
            <button onclick="window.app.logout()" class="group flex items-center gap-2 text-xs font-bold text-zinc-400 hover:text-white transition-colors">
                SALIR <i class="ph-bold ph-sign-out text-lg group-hover:text-brand transition-colors"></i>
            </button>
        </div>
    </nav>

    <main class="flex-grow flex flex-col items-center justify-center relative z-10 w-full">

        <!-- ==================== LANDING PAGE VIEW ==================== -->
        <section id="view-landing" class="w-full pt-32 pb-20 px-4 flex flex-col items-center animate-fade-in-up">
            
            <!-- Hero Section -->
            <div class="text-center max-w-4xl mb-20">
                <div class="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-zinc-900 border border-zinc-800 text-xs text-brand font-mono mb-6">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-brand"></span>
                    </span>
                    HUB DE PROYECTOS & HERRAMIENTAS
                </div>
                <h1 class="text-5xl md:text-7xl font-black tracking-tighter mb-6 hero-text leading-[1.1]">
                    El centro digital de<br>mis proyectos personales.
                </h1>
                <p class="text-zinc-400 text-lg md:text-xl max-w-2xl mx-auto mb-10 leading-relaxed">
                    God's Plan es el lugar donde habitan todas mis creaciones. Desde herramientas financieras hasta entornos de desarrollo. Un ecosistema unificado para mis proyectos digitales.
                </p>
                <div class="flex flex-col md:flex-row gap-4 justify-center">
                    <button onclick="window.app.toggleAuthModal()" class="px-8 py-4 bg-brand text-white font-bold rounded-xl hover:bg-brand-hover hover:scale-105 transition-all shadow-lg shadow-brand/20 flex items-center justify-center gap-2">
                        Iniciar sesi贸n <i class="ph-bold ph-arrow-right"></i>
                    </button>
                    <a href="#projects" class="px-8 py-4 bg-zinc-900 border border-zinc-800 text-zinc-300 font-bold rounded-xl hover:bg-zinc-800 transition-all flex items-center justify-center">
                        Ver Proyectos
                    </a>
                </div>
            </div>

            <!-- ADSENSE PLACEHOLDER 1 -->
            <div class="w-full max-w-4xl h-[100px] bg-zinc-900/30 border border-zinc-800/50 rounded-lg flex items-center justify-center mb-20 text-zinc-600 text-xs uppercase tracking-widest">
                Espacio Publicitario
            </div>

            <!-- Features Grid (LANDING) -->
            <div id="projects" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 max-w-6xl w-full mb-24">
                
                <!-- Adherencia -->
                <a href="https://adherencia.godsplan.site/" target="_blank" class="glass-panel p-8 rounded-2xl hover:border-brand/30 transition-colors group block">
                    <div class="w-12 h-12 rounded-lg bg-brand/10 text-brand flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-briefcase"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-brand transition-colors">Adherencia</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Proyecto de gesti贸n laboral. Control de asistencia y optimizaci贸n de flujos de trabajo.
                    </p>
                </a>

                <!-- Finanzas -->
                <a href="https://finanzas.godsplan.site" target="_blank" class="glass-panel p-8 rounded-2xl hover:border-green-500/30 transition-colors group block">
                    <div class="w-12 h-12 rounded-lg bg-green-500/10 text-green-500 flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-wallet"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-green-500 transition-colors">Finanzas</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Sistema contable personal. Seguimiento de ingresos, egresos y proyecciones.
                    </p>
                </a>

                <!-- Coding -->
                <a href="https://coding.godsplan.site" target="_blank" class="glass-panel p-8 rounded-2xl hover:border-indigo-500/30 transition-colors group block">
                    <div class="w-12 h-12 rounded-lg bg-indigo-500/10 text-indigo-500 flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-brackets-curly"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-indigo-500 transition-colors">Coding</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Plataforma educativa y de documentaci贸n para desarrolladores.
                    </p>
                </a>

                <!-- Macros -->
                <a href="https://godsplan.site/macros" target="_blank" class="glass-panel p-8 rounded-2xl hover:border-fuchsia-500/30 transition-colors group block">
                    <div class="w-12 h-12 rounded-lg bg-fuchsia-500/10 text-fuchsia-500 flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-robot"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-fuchsia-500 transition-colors">Macros</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Utilidad de automatizaci贸n para generar scripts de tareas repetitivas (Mobil2000).
                    </p>
                </a>

                <!-- Canvas -->
                <a href="https://canvas.godsplan.site" target="_blank" class="glass-panel p-8 rounded-2xl hover:border-orange-500/30 transition-colors group block">
                    <div class="w-12 h-12 rounded-lg bg-orange-500/10 text-orange-500 flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-code"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-orange-500 transition-colors">Canvas</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Entorno de pruebas (Sandbox) para desarrollo web r谩pido en HTML/JS.
                    </p>
                </a>

                <!-- Seguridad / Cuenta -->
                <button onclick="window.app.toggleAuthModal()" class="glass-panel p-8 rounded-2xl hover:border-zinc-500/30 transition-colors group block text-left w-full">
                    <div class="w-12 h-12 rounded-lg bg-zinc-800 text-zinc-300 flex items-center justify-center text-2xl mb-6 group-hover:scale-110 transition-transform">
                        <i class="ph-fill ph-shield-check"></i>
                    </div>
                    <h3 class="text-xl font-bold text-white mb-3 group-hover:text-zinc-300 transition-colors">Mi Cuenta</h3>
                    <p class="text-zinc-400 text-sm leading-relaxed">
                        Accede para gestionar tu perfil y acceder a todos los proyectos privados.
                    </p>
                </button>

            </div>

             <!-- About Section -->
             <div id="about" class="w-full max-w-4xl glass-panel p-10 rounded-2xl mb-20">
                <h2 class="text-2xl font-bold text-white mb-6">驴Qu茅 es God's Plan?</h2>
                <div class="space-y-4 text-zinc-400 text-sm leading-7">
                    <p>
                        <strong>God's Plan</strong> es el nombre en clave de mi ecosistema digital. No es una sola aplicaci贸n, sino el lugar donde <strong>recopilo y centralizo</strong> todos mis proyectos personales activos.
                    </p>
                    <p>
                        Desarrollado por <span class="text-white">blqa</span>, este sitio act煤a como un "Hub" o lanzador. Aqu铆 se unen herramientas de finanzas, productividad y desarrollo bajo una misma interfaz segura y est茅tica.
                    </p>
                    <p>
                        Si est谩s buscando alguno de mis proyectos (como la calculadora de Macros o el sistema de Finanzas), est谩s en el lugar correcto. Inicia sesi贸n para acceder al panel de control completo.
                    </p>
                </div>
            </div>

            <!-- Footer Legal -->
            <footer class="w-full max-w-6xl border-t border-zinc-900 pt-10 pb-6">
                <div class="flex flex-col md:flex-row justify-between items-center gap-6">
                    <div class="text-zinc-600 text-sm">
                        &copy; 2024 God's Plan Project Hub. Todos los derechos reservados.
                    </div>
                    <div class="flex gap-6 text-sm text-zinc-500">
                        <button onclick="window.app.toggleView('privacy')" class="hover:text-brand transition-colors">Pol铆tica de Privacidad</button>
                        <button onclick="window.app.toggleView('terms')" class="hover:text-brand transition-colors">T茅rminos de Uso</button>
                        <button onclick="window.app.toggleView('contact')" class="hover:text-brand transition-colors">Contacto</button>
                    </div>
                </div>
            </footer>

        </section>

        <!-- ==================== LEGAL: PRIVACY POLICY ==================== -->
        <section id="view-privacy" class="hidden w-full max-w-4xl pt-32 pb-20 px-4 animate-fade-in-up">
            <h1 class="text-4xl font-bold text-white mb-8">Pol铆tica de Privacidad</h1>
            <div class="glass-panel p-10 rounded-2xl legal-content">
                <p>ltima actualizaci贸n: 04 de Enero de 2024</p>

                <h2>1. Introducci贸n</h2>
                <p>En God's Plan ("nosotros", "nuestro"), respetamos su privacidad y nos comprometemos a proteger los datos personales que pueda compartir con nosotros dentro de nuestro ecosistema de proyectos.</p>

                <h2>2. Informaci贸n que recopilamos</h2>
                <p>Recopilamos informaci贸n que usted nos proporciona directamente al interactuar con nuestros diferentes m贸dulos (Finanzas, Coding, etc).</p>
                <ul>
                    <li><strong>Datos de cuenta:</strong> Correo electr贸nico y credenciales gestionadas seguramente v铆a Firebase.</li>
                    <li><strong>Datos de proyectos:</strong> Informaci贸n espec铆fica que guardes en cada herramienta (ej. registros financieros).</li>
                </ul>

                <h2>3. Uso de la informaci贸n</h2>
                <p>Utilizamos la informaci贸n exclusivamente para mantener la funcionalidad de los proyectos personales alojados en este Hub.</p>
                
                <h2>4. Publicidad</h2>
                <p>Utilizamos Google AdSense para mostrar anuncios. Google utiliza cookies para servir anuncios basados en visitas anteriores.</p>

                <h2>5. Seguridad</h2>
                <p>Sus datos est谩n protegidos bajo la infraestructura de Google Cloud y Firebase.</p>
            </div>
            <div class="mt-8 text-center">
                <button onclick="window.app.returnToLanding()" class="text-zinc-400 hover:text-white underline">Volver al Inicio</button>
            </div>
        </section>

        <!-- ==================== LEGAL: TERMS OF USE ==================== -->
        <section id="view-terms" class="hidden w-full max-w-4xl pt-32 pb-20 px-4 animate-fade-in-up">
            <h1 class="text-4xl font-bold text-white mb-8">T茅rminos de Uso</h1>
            <div class="glass-panel p-10 rounded-2xl legal-content">
                <p>ltima actualizaci贸n: 04 de Enero de 2024</p>

                <h2>1. Prop贸sito del Sitio</h2>
                <p>God's Plan es un portafolio de proyectos y herramientas personales. El acceso se proporciona "tal cual" para uso demostrativo y personal.</p>

                <h2>2. Licencia de Uso</h2>
                <p>Se concede permiso para utilizar las herramientas alojadas aqu铆 para uso personal.</p>

                <h2>3. Propiedad Intelectual</h2>
                <p>Todos los proyectos listados (Adherencia, Finanzas, Coding, etc.) son propiedad intelectual del desarrollador (blqa).</p>
            </div>
            <div class="mt-8 text-center">
                <button onclick="window.app.returnToLanding()" class="text-zinc-400 hover:text-white underline">Volver al Inicio</button>
            </div>
        </section>

        <!-- ==================== LEGAL: CONTACT ==================== -->
        <section id="view-contact" class="hidden w-full max-w-2xl pt-32 pb-20 px-4 animate-fade-in-up">
            <h1 class="text-4xl font-bold text-white mb-8 text-center">Contacto</h1>
            
            <div class="glass-panel p-10 rounded-2xl mb-8">
                <p class="text-zinc-400 text-center mb-8">驴Tienes alguna pregunta sobre alguno de mis proyectos o herramientas? Env铆ame un mensaje.</p>
                
                <form onsubmit="event.preventDefault(); window.app.toast('Mensaje enviado. Te contactaremos pronto.', 'success');" class="space-y-6">
                    <div class="input-group relative">
                        <input type="text" required class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Tu Nombre">
                        <label class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Tu Nombre</label>
                    </div>
                    
                    <div class="input-group relative">
                        <input type="email" required class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Tu Email">
                        <label class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Tu Email</label>
                    </div>
                    
                    <div class="input-group relative">
                        <textarea required rows="4" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent resize-none" placeholder="Mensaje"></textarea>
                        <label class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Sobre qu茅 proyecto quieres hablar...</label>
                    </div>

                    <button type="submit" class="w-full py-4 bg-white text-black font-bold rounded-lg hover:bg-zinc-200 transition-all flex items-center justify-center gap-2">
                        Enviar Mensaje <i class="ph-bold ph-paper-plane-right"></i>
                    </button>
                </form>
            </div>

            <div class="text-center space-y-2">
                <p class="text-zinc-500 text-sm">O escr铆benos directamente a:</p>
                <a href="mailto:contacto@godsplan.site" class="text-brand font-mono hover:underline text-lg">contacto@godsplan.site</a>
                <div class="pt-6">
                    <button onclick="window.app.returnToLanding()" class="text-zinc-400 hover:text-white underline">Volver al Inicio</button>
                </div>
            </div>
        </section>


        <!-- ==================== AUTH MODAL (OVERLAY) ==================== -->
        <div id="auth-modal" class="fixed inset-0 z-50 hidden flex items-center justify-center px-4">
            <div class="absolute inset-0 bg-black/80 backdrop-blur-sm" onclick="window.app.toggleAuthModal()"></div>
            
            <div class="relative w-full max-w-[400px] animate-fade-in-up">
                <button onclick="window.app.toggleAuthModal()" class="absolute -top-12 right-0 text-zinc-400 hover:text-white transition-colors">
                    <i class="ph-bold ph-x text-2xl"></i>
                </button>

                <div class="text-center mb-8">
                    <div class="inline-flex items-center justify-center w-16 h-16 rounded-2xl bg-gradient-to-br from-zinc-800 to-black border border-white/10 mb-4 shadow-lg shadow-brand/10">
                        <i class="ph-fill ph-fingerprint text-3xl text-brand"></i>
                    </div>
                    <h1 class="text-2xl font-bold text-white tracking-tight" id="auth-title">Acceso al Hub</h1>
                    <p class="text-zinc-500 text-sm mt-1 font-mono">PROJECTS GATEWAY // BLQA</p>
                </div>

                <div class="glass-panel p-8 rounded-2xl bg-[#090909]">
                    <form onsubmit="event.preventDefault(); window.app.handleAuth();" class="flex flex-col gap-6">
                        
                        <!-- Input Din谩mico: Nombre (Solo registro) -->
                        <div id="field-name-container" class="hidden relative input-group group">
                            <input type="text" id="input-name" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Name" autocomplete="name">
                            <label for="input-name" class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Nombre</label>
                            <i class="ph-bold ph-user absolute right-4 top-3.5 text-zinc-600"></i>
                        </div>

                        <!-- Email -->
                        <div class="relative input-group group">
                            <input type="text" id="input-email" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Email" autocomplete="username">
                            <label for="input-email" class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">ID / Email</label>
                            <i class="ph-bold ph-envelope-simple absolute right-4 top-3.5 text-zinc-600"></i>
                        </div>

                        <!-- Password -->
                        <div class="relative input-group group">
                            <input type="password" id="input-pass" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Password" autocomplete="current-password">
                            <label for="input-pass" class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Contrase帽a</label>
                            <i class="ph-bold ph-lock-key absolute right-4 top-3.5 text-zinc-600"></i>
                        </div>

                        <button type="submit" id="btn-submit" class="relative overflow-hidden w-full bg-white text-black font-bold py-3.5 rounded-lg hover:bg-zinc-200 transition-all active:scale-[0.98] mt-2 flex items-center justify-center gap-2">
                            <span id="btn-text">ENTRAR AL HUB</span>
                            <i id="btn-icon" class="ph-bold ph-arrow-right"></i>
                            <div id="btn-loader" class="hidden w-5 h-5 border-2 border-black/30 border-t-black rounded-full animate-spin"></div>
                        </button>
                    </form>

                    <div class="mt-6 pt-6 border-t border-white/5 space-y-4">
                        <button onclick="window.app.loginGoogle()" class="w-full py-3 bg-zinc-900 hover:bg-zinc-800 border border-border rounded-lg transition-all flex items-center justify-center gap-3 text-sm font-medium text-zinc-300 group">
                            <i class="ph-bold ph-google-logo text-lg group-hover:text-white transition-colors"></i> 
                            Acceder con Google
                        </button>
                        
                        <button onclick="window.app.loginGuest()" class="w-full py-3 bg-transparent hover:bg-white/5 border border-white/10 hover:border-white/20 rounded-lg transition-all flex items-center justify-center gap-3 text-sm font-medium text-zinc-400 hover:text-white group">
                            <i class="ph-bold ph-user-circle text-lg group-hover:text-brand transition-colors"></i> 
                            Visitar como Invitado
                        </button>

                        <p class="text-center text-xs text-zinc-500">
                            <span id="auth-switch-label">驴Sin credenciales?</span>
                            <button onclick="window.app.toggleMode()" class="text-white hover:text-brand font-bold ml-1 transition-colors underline decoration-transparent hover:decoration-brand">
                                <span id="auth-switch-action">Solicitar Acceso</span>
                            </button>
                        </p>
                    </div>
                </div>
            </div>
        </div>


        <!-- ==================== DASHBOARD VIEW (PRIVATE) ==================== -->
        <section id="view-dashboard" class="hidden w-full max-w-6xl mt-16 md:mt-24 px-4 pb-20 animate-fade-in-up">
            
            <!-- 1. HEADER (Minimalista) -->
            <header class="mb-10 text-center md:text-left">
                <div class="flex items-center justify-center md:justify-start gap-2 text-brand font-mono text-xs mb-3">
                    <span class="relative flex h-2 w-2">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-brand opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-2 w-2 bg-brand"></span>
                    </span>
                    HUB ONLINE
                </div>
                <h1 class="text-4xl md:text-5xl font-black text-white leading-none tracking-tighter mb-2">
                    HOLA, <span id="user-name" class="text-transparent bg-clip-text bg-gradient-to-r from-white to-zinc-500">USER</span>
                </h1>
                <p id="greeting-msg" class="text-zinc-500 font-light text-lg">Tus proyectos est谩n listos.</p>
            </header>

            <!-- ADSENSE PLACEHOLDER DASHBOARD -->
            <div class="w-full h-[90px] bg-zinc-900/50 border border-dashed border-zinc-800 rounded-lg flex items-center justify-center mb-10 text-zinc-600 text-xs uppercase">
                Adsense Banner Top
            </div>

            <!-- 2. GRID DE MDULOS -->
            <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-12">

                <!-- MDULO 1: ADHERENCIA -->
                <a href="https://adherencia.godsplan.site/" target="_blank" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-chart-line-up text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-brand/10 p-2.5 rounded-xl text-brand border border-brand/20 group-hover:bg-brand group-hover:text-white transition-colors">
                            <i class="ph-bold ph-briefcase text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-up-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-brand transition-colors">Adherencia</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Gesti贸n de tiempos y asistencia laboral.</p>
                    </div>
                </a>

                <!-- MDULO 2: FINANZAS -->
                <a href="https://finanzas.godsplan.site" target="_blank" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-currency-dollar text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-green-500/10 p-2.5 rounded-xl text-green-500 border border-green-500/20 group-hover:bg-green-500 group-hover:text-white transition-colors">
                            <i class="ph-bold ph-wallet text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-up-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-green-500 transition-colors">Finanzas</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Contabilidad y recursos personales.</p>
                    </div>
                </a>

                 <!-- MDULO 3: CODING -->
                 <a href="https://coding.godsplan.site" target="_blank" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-brackets-curly text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-indigo-500/10 p-2.5 rounded-xl text-indigo-500 border border-indigo-500/20 group-hover:bg-indigo-500 group-hover:text-white transition-colors">
                            <i class="ph-bold ph-brackets-curly text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-up-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-indigo-500 transition-colors">Coding</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Documentaci贸n y aprendizaje de c贸digo.</p>
                    </div>
                </a>

                <!-- MDULO 4: MACROS -->
                <a href="https://godsplan.site/macros" target="_blank" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-lightning text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-fuchsia-500/10 p-2.5 rounded-xl text-fuchsia-500 border border-fuchsia-500/20 group-hover:bg-fuchsia-500 group-hover:text-white transition-colors">
                            <i class="ph-bold ph-robot text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-up-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-fuchsia-500 transition-colors">Macros</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Automatizaci贸n de scripts Mobil2000.</p>
                    </div>
                </a>

                <!-- MDULO 5: CANVAS -->
                <a href="https://canvas.godsplan.site" target="_blank" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-terminal-window text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-orange-500/10 p-2.5 rounded-xl text-orange-500 border border-orange-500/20 group-hover:bg-orange-500 group-hover:text-white transition-colors">
                            <i class="ph-bold ph-code text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-arrow-up-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-orange-500 transition-colors">Canvas</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Editor y Sandbox HTML en tiempo real.</p>
                    </div>
                </a>

                <!-- MDULO 6: MI CUENTA (AJUSTES) -->
                <button onclick="window.app.goToSettings()" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block text-left w-full">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-user-gear text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-zinc-700/20 p-2.5 rounded-xl text-zinc-300 border border-zinc-600/20 group-hover:bg-zinc-200 group-hover:text-black transition-colors">
                            <i class="ph-bold ph-gear text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-caret-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-zinc-300 transition-colors">Mi Cuenta</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Configuraci贸n de perfil y acceso.</p>
                    </div>
                </button>

                <!-- MDULO 7: SISTEMA (INFO) -->
                <button onclick="window.app.goToInfo()" class="module-card border border-zinc-800 rounded-2xl p-6 cursor-pointer overflow-hidden group min-h-[220px] flex flex-col justify-between block text-left w-full">
                    <div class="absolute top-0 right-0 p-6 opacity-5 group-hover:opacity-10 transition-opacity transform group-hover:scale-110 duration-500">
                        <i class="ph-fill ph-cpu text-8xl text-white"></i>
                    </div>
                    <div class="flex justify-between items-start z-10">
                        <div class="bg-cyan-500/10 p-2.5 rounded-xl text-cyan-500 border border-cyan-500/20 group-hover:bg-cyan-500 group-hover:text-black transition-colors">
                            <i class="ph-bold ph-info text-2xl"></i>
                        </div>
                        <i class="ph-bold ph-caret-right text-zinc-600 group-hover:text-white transition-colors"></i>
                    </div>
                    <div class="z-10 mt-4">
                        <h3 class="text-xl font-bold text-white mb-1 group-hover:text-cyan-500 transition-colors">Sistema</h3>
                        <p class="text-zinc-500 text-xs leading-relaxed">Estado del Hub y versiones.</p>
                    </div>
                </button>

            </div>

            <!-- FOOTER -->
            <footer class="mt-8 pt-8 border-t border-white/5 flex flex-col md:flex-row justify-between items-center text-xs text-zinc-600 font-mono">
                <div>
                    <span class="text-white font-bold">GOD'S PLAN HUB</span>
                </div>
                <div class="mt-4 md:mt-0 flex gap-6">
                    <span class="text-green-500 flex items-center gap-2 pl-6 ml-2"><div class="w-1.5 h-1.5 rounded-full bg-green-500 animate-pulse"></div> PROJECTS ONLINE</span>
                </div>
            </footer>
        </section>

        <!-- ==================== SETTINGS VIEW ==================== -->
        <section id="view-settings" class="hidden w-full max-w-2xl mt-16 md:mt-24 px-4 pb-20 animate-fade-in-up">
            
            <!-- Header Settings -->
            <div class="flex items-center gap-4 mb-8">
                <button onclick="window.app.returnToDash()" class="w-10 h-10 rounded-full border border-zinc-800 hover:bg-zinc-800 flex items-center justify-center text-zinc-400 hover:text-white transition-colors">
                    <i class="ph-bold ph-arrow-left text-lg"></i>
                </button>
                <div>
                    <h2 class="text-2xl font-bold text-white">Configuraci贸n</h2>
                    <p class="text-zinc-500 text-sm">Gestiona tu identidad en el hub.</p>
                </div>
            </div>

            <div class="space-y-6">

                <!-- Avatar Selection -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                        <i class="ph-bold ph-smiley text-brand"></i> Avatar de Usuario
                    </h3>
                    <p class="text-xs text-zinc-500 mb-4">Selecciona un icono para representarte.</p>
                    
                    <div class="grid grid-cols-4 md:grid-cols-6 gap-3" id="avatar-grid">
                        <!-- Generado por JS -->
                    </div>
                </div>

                <!-- Info Read Only -->
                <div class="glass-panel p-6 rounded-2xl border border-zinc-800/50">
                    <div class="flex items-start gap-4">
                        <div class="w-14 h-14 rounded-full bg-brand/10 border border-brand/20 flex items-center justify-center text-brand">
                            <i id="settings-current-avatar" class="ph-duotone ph-user-circle text-3xl"></i>
                        </div>
                        <div class="flex-grow">
                            <label class="block text-xs uppercase tracking-wider text-zinc-500 mb-1">ID de Usuario</label>
                            <div id="settings-email" class="text-white font-mono text-sm break-all mb-2">cargando...</div>
                            <div class="inline-flex items-center px-2 py-1 rounded bg-zinc-900 border border-zinc-800 text-[10px] text-zinc-400">
                                <i class="ph-fill ph-shield-check mr-1 text-green-500"></i> CUENTA SEGURA
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Actualizar Perfil -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                        <i class="ph-bold ph-identification-card text-brand"></i> Perfil P煤blico
                    </h3>
                    <div class="space-y-4">
                        <div class="relative input-group group">
                            <input type="text" id="settings-name" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Nuevo Nombre">
                            <label for="settings-name" class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Nombre para mostrar</label>
                        </div>
                        <div class="flex justify-end">
                            <button onclick="window.app.updateUserData()" class="px-6 py-2 bg-white text-black text-sm font-bold rounded-lg hover:bg-zinc-200 transition-colors">
                                Guardar Cambios
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Seguridad -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                        <i class="ph-bold ph-lock-key text-brand"></i> Seguridad
                    </h3>
                    <div class="space-y-4">
                        <p class="text-xs text-zinc-500 bg-zinc-900/50 p-3 rounded border border-white/5">
                            <i class="ph-fill ph-warning-circle text-yellow-500 mr-1"></i>
                            Por seguridad, es posible que debas volver a iniciar sesi贸n si cambias tu contrase帽a.
                        </p>
                        <div class="relative input-group group">
                            <input type="password" id="settings-new-pass" class="w-full bg-black/40 border border-border focus:border-brand rounded-lg px-4 py-3 outline-none transition-all placeholder-transparent" placeholder="Nueva Contrase帽a">
                            <label for="settings-new-pass" class="absolute left-4 top-3 text-zinc-500 text-sm transition-all pointer-events-none bg-transparent px-1">Nueva Contrase帽a</label>
                        </div>
                        <div class="flex justify-end">
                            <button onclick="window.app.updateUserPassword()" class="px-6 py-2 bg-zinc-800 text-white text-sm font-bold rounded-lg hover:bg-brand hover:text-white border border-zinc-700 hover:border-brand transition-colors">
                                Actualizar Clave
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- ==================== SYSTEM INFO VIEW ==================== -->
        <section id="view-info" class="hidden w-full max-w-3xl mt-16 md:mt-24 px-4 pb-20 animate-fade-in-up">
            
            <div class="flex items-center gap-4 mb-8">
                <button onclick="window.app.returnToDash()" class="w-10 h-10 rounded-full border border-zinc-800 hover:bg-zinc-800 flex items-center justify-center text-zinc-400 hover:text-white transition-colors">
                    <i class="ph-bold ph-arrow-left text-lg"></i>
                </button>
                <div>
                    <h2 class="text-2xl font-bold text-white">Estado del Hub</h2>
                    <p class="text-zinc-500 text-sm">Diagn贸stico del sistema y proyectos.</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                
                <!-- Main Status -->
                <div class="glass-panel p-8 rounded-2xl md:col-span-2 flex flex-col items-center justify-center text-center">
                    <div class="w-24 h-24 rounded-full bg-zinc-900 border border-zinc-800 flex items-center justify-center mb-4 shadow-2xl shadow-brand/10">
                        <i class="ph-duotone ph-cpu text-5xl text-brand animate-pulse-glow"></i>
                    </div>
                    <h3 class="text-3xl font-bold text-white mb-2">GOD'S PLAN</h3>
                    <div class="flex items-center gap-2 text-zinc-500 text-sm font-mono">
                        <span>v2.3.0</span>
                        <span class="w-1 h-1 rounded-full bg-zinc-700"></span>
                        <span>Projects Hub</span>
                    </div>
                </div>

                <!-- Stats -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h4 class="text-sm font-bold text-white mb-4 uppercase tracking-wider flex items-center gap-2">
                        <i class="ph-fill ph-memory text-zinc-400"></i> Memoria
                    </h4>
                    <div class="space-y-4">
                        <div>
                            <div class="flex justify-between text-xs text-zinc-400 mb-1">
                                <span>USO HEAP</span>
                                <span>34%</span>
                            </div>
                            <div class="w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden">
                                <div class="h-full bg-brand w-[34%]"></div>
                            </div>
                        </div>
                        <div>
                            <div class="flex justify-between text-xs text-zinc-400 mb-1">
                                <span>CACHE</span>
                                <span>12%</span>
                            </div>
                            <div class="w-full h-1.5 bg-zinc-800 rounded-full overflow-hidden">
                                <div class="h-full bg-white w-[12%]"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Network -->
                <div class="glass-panel p-6 rounded-2xl">
                    <h4 class="text-sm font-bold text-white mb-4 uppercase tracking-wider flex items-center gap-2">
                        <i class="ph-fill ph-globe text-zinc-400"></i> Conectividad
                    </h4>
                    <div class="grid grid-cols-2 gap-4">
                        <div class="bg-zinc-900/50 p-3 rounded-lg border border-white/5">
                            <div class="text-[10px] text-zinc-500 uppercase">Estado</div>
                            <div class="text-green-500 font-bold flex items-center gap-1.5">
                                <span class="w-1.5 h-1.5 rounded-full bg-green-500"></span> ONLINE
                            </div>
                        </div>
                        <div class="bg-zinc-900/50 p-3 rounded-lg border border-white/5">
                            <div class="text-[10px] text-zinc-500 uppercase">Ping</div>
                            <div class="text-white font-mono">24ms</div>
                        </div>
                        <div class="bg-zinc-900/50 p-3 rounded-lg border border-white/5 col-span-2">
                            <div class="text-[10px] text-zinc-500 uppercase mb-1">Protocolo</div>
                            <div class="text-zinc-300 text-xs font-mono">HTTPS / FIREBASE FIRESTORE</div>
                        </div>
                    </div>
                </div>

                <!-- Credits -->
                <div class="glass-panel p-6 rounded-2xl md:col-span-2">
                    <div class="flex items-center gap-4">
                        <i class="ph-fill ph-code text-2xl text-zinc-600"></i>
                        <div>
                            <h4 class="text-white font-bold text-sm">Desarrollo</h4>
                            <p class="text-zinc-500 text-xs">Arquitectura basada en TailwindCSS & Firebase.</p>
                        </div>
                        <div class="ml-auto">
                            <a href="#" class="text-brand text-xs hover:underline">Ver Documentaci贸n</a>
                        </div>
                    </div>
                </div>

            </div>
        </section>

    </main>

    <!-- LOGICA DE LA APP -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { 
            getAuth, 
            signInWithEmailAndPassword, 
            createUserWithEmailAndPassword,
            signInWithPopup,
            signInAnonymously,
            GoogleAuthProvider,
            updateProfile,
            updatePassword, 
            onAuthStateChanged, 
            signOut,
            setPersistence,
            browserLocalPersistence
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-auth.js";
        
        import { 
            getFirestore
        } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // CONFIGURACIN FIREBASE
        const firebaseConfig = {
            apiKey: "AIzaSyD0lX3XmVPQHNNxpsZS82YzDMzM6MLhq3g",
            authDomain: "godsplan-blqa.firebaseapp.com",
            projectId: "godsplan-blqa",
            storageBucket: "godsplan-blqa.firebasestorage.app",
            messagingSenderId: "1008783768310",
            appId: "1:1008783768310:web:c09fe541a2f4d23e5b8ad7"
        };

        // INICIALIZACIN
        const app = initializeApp(firebaseConfig);
        const auth = getAuth(app);
        const db = getFirestore(app);
        
        // Persistencia local
        setPersistence(auth, browserLocalPersistence).catch(console.error);

        // CLASE PRINCIPAL DE LA UI
        class UIManager {
            constructor() {
                this.views = {
                    auth: document.getElementById('auth-modal'), 
                    landing: document.getElementById('view-landing'), 
                    dash: document.getElementById('view-dashboard'),
                    settings: document.getElementById('view-settings'),
                    info: document.getElementById('view-info'),
                    privacy: document.getElementById('view-privacy'),
                    terms: document.getElementById('view-terms'),
                    contact: document.getElementById('view-contact'),
                    dashNav: document.getElementById('navbar'),
                    publicNav: document.getElementById('public-nav'),
                    loader: document.getElementById('app-loader')
                };
                this.isRegisterMode = false;
                this.availableAvatars = [
                    'ph-user-circle', 'ph-robot', 'ph-alien', 'ph-skull', 
                    'ph-crown', 'ph-ghost', 'ph-ninja', 'ph-detective'
                ];
                
                this.initClock();
                this.addCardEffects();
                this.renderAvatarGrid();
            }

            // Renderiza la cuadr铆cula de selecci贸n de avatars
            renderAvatarGrid() {
                const grid = document.getElementById('avatar-grid');
                if(!grid) return;
                grid.innerHTML = '';
                this.availableAvatars.forEach(icon => {
                    const btn = document.createElement('button');
                    btn.className = 'avatar-option w-12 h-12 rounded-xl border border-zinc-800 bg-zinc-900 flex items-center justify-center text-zinc-400 hover:text-white hover:border-brand/50 transition-all';
                    btn.innerHTML = `<i class="ph-fill ${icon} text-2xl"></i>`;
                    btn.onclick = () => this.selectAvatar(icon, btn);
                    grid.appendChild(btn);
                });
            }

            selectAvatar(iconClass, btnElement) {
                document.querySelectorAll('.avatar-option').forEach(b => b.classList.remove('selected'));
                btnElement.classList.add('selected');
                const preview = document.getElementById('settings-current-avatar');
                preview.className = `ph-duotone ${iconClass} text-3xl`;
                window.app.updateUserAvatar(iconClass);
            }

            // Muestra una notificaci贸n Toast
            toast(msg, type = 'default') {
                const container = document.getElementById('toast-container');
                const el = document.createElement('div');
                
                const colors = {
                    error: 'border-red-500 text-red-100 bg-red-900/90',
                    success: 'border-green-500 text-green-100 bg-green-900/90',
                    warning: 'border-yellow-500 text-yellow-100 bg-yellow-900/90',
                    info: 'border-blue-500 text-blue-100 bg-blue-900/90',
                    default: 'border-zinc-700 text-white bg-zinc-900/90'
                };
                
                const iconMap = {
                    error: 'ph-warning-circle',
                    success: 'ph-check-circle',
                    warning: 'ph-warning',
                    info: 'ph-info',
                    default: 'ph-bell'
                };

                el.className = `toast pointer-events-auto flex items-center gap-3 min-w-[300px] p-4 rounded-lg border backdrop-blur-md shadow-2xl ${colors[type] || colors.default}`;
                el.innerHTML = `
                    <i class="ph-fill ${iconMap[type] || iconMap.default} text-xl"></i>
                    <div class="text-sm font-medium">${msg}</div>
                `;

                container.appendChild(el);
                requestAnimationFrame(() => el.classList.add('show'));
                setTimeout(() => {
                    el.classList.remove('show');
                    setTimeout(() => el.remove(), 400);
                }, 4000);
            }

            setLoading(loading) {
                const btnText = document.getElementById('btn-text');
                const btnIcon = document.getElementById('btn-icon');
                const btnLoader = document.getElementById('btn-loader');
                const btn = document.getElementById('btn-submit');

                if (loading) {
                    btnText.textContent = "PROCESANDO...";
                    btnIcon.classList.add('hidden');
                    btnLoader.classList.remove('hidden');
                    btn.disabled = true;
                    btn.classList.add('opacity-70', 'cursor-not-allowed');
                } else {
                    btnText.textContent = this.isRegisterMode ? "CREAR CUENTA" : "ENTRAR AL HUB";
                    btnIcon.classList.remove('hidden');
                    btnLoader.classList.add('hidden');
                    btn.disabled = false;
                    btn.classList.remove('opacity-70', 'cursor-not-allowed');
                }
            }

            toggleView(viewName) {
                this.views.loader.classList.add('opacity-0', 'pointer-events-none');
                
                // Ocultar todas las vistas
                Object.values(this.views).forEach(el => {
                    if (el && el.tagName === 'SECTION') el.classList.add('hidden');
                });
                
                // Ocultar Navs
                this.views.dashNav.classList.add('hidden');
                this.views.publicNav.classList.add('hidden');
                
                // Cerrar modal si se cambia de vista
                this.views.auth.classList.add('hidden');

                if (viewName === 'dashboard') {
                    this.views.dash.classList.remove('hidden');
                    this.views.dashNav.classList.remove('hidden');
                    this.updateGreeting();
                } else if (viewName === 'landing') {
                    this.views.landing.classList.remove('hidden');
                    this.views.publicNav.classList.remove('hidden');
                } else if (viewName === 'settings') {
                    this.views.settings.classList.remove('hidden');
                    this.views.dashNav.classList.remove('hidden');
                } else if (viewName === 'info') {
                    this.views.info.classList.remove('hidden');
                    this.views.dashNav.classList.remove('hidden');
                } else if (['privacy', 'terms', 'contact'].includes(viewName)) {
                    this.views[viewName].classList.remove('hidden');
                    this.views.publicNav.classList.remove('hidden'); // Mostrar navbar p煤blico en p谩ginas legales
                    window.scrollTo(0,0);
                }
            }

            updateGreeting() {
                const hour = new Date().getHours();
                let text = "Buenas noches";
                if (hour >= 5 && hour < 12) text = "Buenos d铆as";
                else if (hour >= 12 && hour < 20) text = "Buenas tardes";
                
                const el = document.getElementById('greeting-msg');
                if(el) el.textContent = `${text}. Acceso correcto al hub de proyectos.`;
            }

            initClock() {
                const update = () => {
                    const now = new Date();
                    document.getElementById('nav-time').textContent = now.toLocaleTimeString('es-ES', { hour12: false });
                    document.getElementById('nav-date').textContent = now.toLocaleDateString('es-ES', { weekday: 'short', day: 'numeric', month: 'short' });
                };
                setInterval(update, 1000);
                update();
            }

            addCardEffects() {
                const apply = () => {
                    document.querySelectorAll('.module-card, .glass-panel').forEach(card => {
                        card.onmousemove = e => {
                            const rect = card.getBoundingClientRect();
                            const x = e.clientX - rect.left;
                            const y = e.clientY - rect.top;
                            card.style.setProperty('--mouse-x', `${x}px`);
                            card.style.setProperty('--mouse-y', `${y}px`);
                        }
                    });
                };
                apply();
                setTimeout(apply, 1000); 
            }
        }

        const ui = new UIManager();

        // CONTROLADOR GLOBAL
        window.app = {
            
            toggleAuthModal: () => {
                const modal = document.getElementById('auth-modal');
                if (modal.classList.contains('hidden')) {
                    modal.classList.remove('hidden');
                    modal.classList.add('flex');
                } else {
                    modal.classList.add('hidden');
                    modal.classList.remove('flex');
                }
            },

            toggleMode: () => {
                ui.isRegisterMode = !ui.isRegisterMode;
                const nameField = document.getElementById('field-name-container');
                const title = document.getElementById('auth-title');
                const switchLabel = document.getElementById('auth-switch-label');
                const switchAction = document.getElementById('auth-switch-action');
                const btnText = document.getElementById('btn-text');

                if (ui.isRegisterMode) {
                    nameField.classList.remove('hidden');
                    title.textContent = "Registro Nuevo";
                    switchLabel.textContent = "驴Ya tienes acceso?";
                    switchAction.textContent = "Iniciar Sesi贸n";
                    btnText.textContent = "CREAR CUENTA";
                } else {
                    nameField.classList.add('hidden');
                    title.textContent = "Acceso al Hub";
                    switchLabel.textContent = "驴Sin credenciales?";
                    switchAction.textContent = "Solicitar Acceso";
                    btnText.textContent = "ENTRAR AL HUB";
                }
            },

            handleAuth: async () => {
                const email = document.getElementById('input-email').value;
                const pass = document.getElementById('input-pass').value;
                const name = document.getElementById('input-name').value;

                if (!email || !pass) {
                    ui.toast("Por favor completa todos los campos", "warning");
                    return;
                }

                const finalEmail = email.includes('@') ? email : `${email}@godsplan.site`;
                ui.setLoading(true);

                try {
                    if (ui.isRegisterMode) {
                        const userCred = await createUserWithEmailAndPassword(auth, finalEmail, pass);
                        await updateProfile(userCred.user, { displayName: name || "User", photoURL: 'ph-robot' });
                        ui.toast(`Bienvenido al Hub, ${name}`, "success");
                    } else {
                        await signInWithEmailAndPassword(auth, finalEmail, pass);
                        ui.toast("Credenciales verificadas. Acceso concedido.", "success");
                    }
                    window.app.toggleAuthModal(); // Cerrar modal al 茅xito
                } catch (error) {
                    console.error(error);
                    let msg = "Error desconocido";
                    if (error.code === 'auth/invalid-credential' || error.code === 'auth/wrong-password') msg = "Usuario no registrado o contrase帽a incorrecta.";
                    else if (error.code === 'auth/user-not-found') msg = "Usuario no encontrado. Prueba registrarte.";
                    else if (error.code === 'auth/email-already-in-use') msg = "El ID ya est谩 registrado";
                    else if (error.code === 'auth/weak-password') msg = "La contrase帽a es muy d茅bil";
                    
                    ui.toast(msg, "error");
                    ui.setLoading(false);
                }
            },

            loginGoogle: async () => {
                try {
                    await signInWithPopup(auth, new GoogleAuthProvider());
                    ui.toast("Autenticado con Google", "success");
                    window.app.toggleAuthModal();
                } catch (error) {
                    ui.toast("Error al conectar con Google", "error");
                }
            },

            loginGuest: async () => {
                try {
                    ui.toast("Accediendo como invitado...", "info");
                    await signInAnonymously(auth);
                    ui.toast("Modo Invitado Activo", "success");
                    window.app.toggleAuthModal();
                } catch (error) {
                    console.error(error);
                    ui.toast("Error en modo invitado", "error");
                }
            },

            logout: async () => {
                await signOut(auth);
                ui.toast("Sesi贸n cerrada correctamente", "info");
            },

            // Navigation Wrappers
            goToSettings: () => {
                const user = auth.currentUser;
                if (!user) return;
                
                document.getElementById('settings-email').textContent = user.email || "Invitado";
                document.getElementById('settings-name').value = user.displayName || "";
                
                const currentAvatar = user.photoURL || 'ph-user-circle';
                document.getElementById('settings-current-avatar').className = `ph-duotone ${currentAvatar} text-3xl`;
                
                document.querySelectorAll('.avatar-option').forEach(btn => {
                    if(btn.innerHTML.includes(currentAvatar)) btn.classList.add('selected');
                    else btn.classList.remove('selected');
                });

                ui.toggleView('settings');
            },

            goToInfo: () => ui.toggleView('info'),
            returnToDash: () => ui.toggleView('dashboard'),
            returnToLanding: () => ui.toggleView('landing'),
            toggleView: (v) => ui.toggleView(v),
            toast: (m, t) => ui.toast(m, t),
            
            updateUserData: async () => {
                const newName = document.getElementById('settings-name').value;
                const user = auth.currentUser;
                if (!user) return;
                if (!newName) return ui.toast("El nombre no puede estar vac铆o", "warning");

                try {
                    ui.toast("Actualizando perfil...", "default");
                    await updateProfile(user, { displayName: newName });
                    document.getElementById('user-name').textContent = newName.toUpperCase();
                    ui.toast("Perfil actualizado correctamente", "success");
                } catch (error) {
                    ui.toast("Error al actualizar perfil", "error");
                }
            },

            updateUserAvatar: async (iconClass) => {
                const user = auth.currentUser;
                if (!user) return;
                try {
                    await updateProfile(user, { photoURL: iconClass });
                    document.getElementById('nav-user-icon').className = `ph-duotone ${iconClass} text-brand text-2xl`;
                    ui.toast("Avatar actualizado", "success");
                } catch (error) {
                    console.error(error);
                }
            },

            updateUserPassword: async () => {
                const newPass = document.getElementById('settings-new-pass').value;
                const user = auth.currentUser;
                if (!user) return;
                if (!newPass || newPass.length < 6) return ui.toast("La contrase帽a debe tener al menos 6 caracteres", "warning");

                try {
                    ui.toast("Actualizando seguridad...", "default");
                    await updatePassword(user, newPass);
                    document.getElementById('settings-new-pass').value = "";
                    ui.toast("Contrase帽a actualizada.", "success");
                } catch (error) {
                    if (error.code === 'auth/requires-recent-login') {
                        ui.toast("Por seguridad, cierra sesi贸n e ingresa de nuevo para cambiar la clave.", "warning");
                    } else {
                        ui.toast("Error al cambiar contrase帽a", "error");
                    }
                }
            }
        };

        // LISTENER DE ESTADO DE AUTENTICACIN
        onAuthStateChanged(auth, (user) => {
            if (user) {
                const name = user.displayName || (user.isAnonymous ? "INVITADO" : user.email.split('@')[0]);
                document.getElementById('user-name').textContent = name.toUpperCase();
                const avatar = user.photoURL || 'ph-planet';
                document.getElementById('nav-user-icon').className = `ph-duotone ${avatar} text-brand text-2xl`;
                ui.toggleView('dashboard');
            } else {
                // IMPORTANTSIMO PARA ADSENSE: Si no hay user, mostramos la LANDING PAGE, no el login
                ui.toggleView('landing');
            }
        });

    </script>
</body>
</html>
