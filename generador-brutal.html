<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Generador Brutal</title>
    <!-- Cargamos Tailwind CSS para el diseño -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Cargamos React y ReactDOM -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Cargamos Babel para entender el código -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            margin: 0;
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>

<body class="bg-neutral-950 text-neutral-100 selection:bg-red-900 selection:text-white">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        // --- ICONOS (SVG Inline para no depender de librerías externas) ---
        const Copy = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="14" height="14" x="8" y="8" rx="2" ry="2" /><path d="M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2" /></svg>
        );
        const RefreshCw = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8" /><path d="M21 3v5h-5" /><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16" /><path d="M8 16H3v5" /></svg>
        );
        const ShieldCheck = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z" /><path d="m9 12 2 2 4-4" /></svg>
        );
        const Edit3 = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M12 20h9" /><path d="M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z" /></svg>
        );
        const Lock = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="18" height="11" x="3" y="11" rx="2" ry="2" /><path d="M7 11V7a5 5 0 0 1 10 0v4" /></svg>
        );
        const Skull = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><circle cx="9" cy="12" r="1" /><circle cx="15" cy="12" r="1" /><path d="M8 20v2h8v-2" /><path d="M12.5 17l-.5-4" /><path d="M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20" /></svg>
        );
        const Zap = ({ className }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z" /></svg>
        );

        // --- COMPONENTE PRINCIPAL ---
        const PasswordGenerator = () => {
            const [password, setPassword] = useState('');
            const [baseWord, setBaseWord] = useState('beleking');
            const [extraLength, setExtraLength] = useState(5);
            const [isHackerMode, setIsHackerMode] = useState(false);
            const [copied, setCopied] = useState(false);
            const [entropy, setEntropy] = useState(0);

            const generateLeetVar = (char) => {
                const lower = char.toLowerCase();
                const map = {
                    'a': ['4', '@', '^'],
                    'b': ['8', '6'],
                    'c': ['(', '<'],
                    'e': ['3', '€'],
                    'g': ['9', '&'],
                    'h': ['#'],
                    'i': ['1', '!', '|'],
                    'l': ['1', '7', '|'],
                    'o': ['0', '*'],
                    's': ['5', '$', 'z'],
                    't': ['7', '+'],
                    'z': ['2', '%']
                };

                if (map[lower]) {
                    const options = map[lower];
                    return options[Math.floor(Math.random() * options.length)];
                }
                return Math.random() > 0.5 ? char.toUpperCase() : char.toLowerCase();
            };

            const generatePassword = () => {
                let currentBase = baseWord.trim().replace(/\s+/g, '');
                if (!currentBase) currentBase = "EscribeAlgo";

                let processedBase = "";
                if (isHackerMode) {
                    for (let char of currentBase) {
                        processedBase += generateLeetVar(char);
                    }
                } else {
                    processedBase = currentBase.charAt(0).toUpperCase() + currentBase.slice(1);
                }

                const chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*?";
                let suffix = "";
                for (let i = 0; i < extraLength; i++) {
                    suffix += chars.charAt(Math.floor(Math.random() * chars.length));
                }

                const finalPassword = `${processedBase}${suffix}`;
                setPassword(finalPassword);
                setCopied(false);
                calculateEntropy(finalPassword, currentBase.length);
            };

            const calculateEntropy = (pass, baseLen) => {
                const baseEntropyPerChar = isHackerMode ? 4 : 2;
                const suffixEntropy = extraLength * 6;
                const total = (baseLen * baseEntropyPerChar) + suffixEntropy;
                setEntropy(total);
            };

            const copyToClipboard = () => {
                if (navigator.clipboard && navigator.clipboard.writeText) {
                    navigator.clipboard.writeText(password).then(() => setCopied(true));
                } else {
                    const textArea = document.createElement("textarea");
                    textArea.value = password;
                    document.body.appendChild(textArea);
                    textArea.select();
                    document.execCommand('copy');
                    document.body.removeChild(textArea);
                    setCopied(true);
                }
                setTimeout(() => setCopied(false), 2000);
            };

            useEffect(() => {
                generatePassword();
            }, [baseWord, extraLength, isHackerMode]);

            const getStrengthColor = () => {
                if (entropy < 45) return "bg-neutral-600";
                if (entropy < 70) return "bg-red-900";
                return "bg-red-600";
            };

            const getStrengthText = () => {
                if (entropy < 45) return "Débil";
                if (entropy < 70) return "Decente";
                return "Brutal";
            };

            const getDisplayTextClass = () => {
                if (entropy < 45) return "text-neutral-500";
                if (entropy < 70) return "text-red-800";
                return "text-red-500";
            };

            return (
                <div className="flex flex-col items-center justify-center min-h-screen bg-neutral-950 p-4 font-sans text-neutral-100 selection:bg-red-900 selection:text-white">
                    <div className="w-full max-w-md bg-neutral-900 rounded-none border border-neutral-800 shadow-[0_0_30px_rgba(220,38,38,0.15)] relative">

                        <div className="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-neutral-900 via-red-700 to-neutral-900"></div>

                        <div className="bg-neutral-950 p-6 flex items-center justify-between border-b border-neutral-800">
                            <div className="flex items-center gap-3">
                                <div className="bg-red-900/20 p-2 rounded-full border border-red-900/50">
                                    <Skull className="text-red-600 w-5 h-5" />
                                </div>
                                <h1 className="text-lg font-bold text-white tracking-widest uppercase">Generador</h1>
                            </div>
                            <div className={`px-4 py-1 text-[10px] font-bold uppercase tracking-widest ${getStrengthColor()} text-white transition-colors duration-500`}>
                                {getStrengthText()}
                            </div>
                        </div>

                        <div className="p-8 flex flex-col items-center gap-6 relative overflow-hidden bg-black/50">
                            <div className="relative w-full group">
                                <div className={`absolute inset-0 blur-2xl opacity-10 group-hover:opacity-30 transition-opacity duration-500 ${getStrengthColor()}`}></div>

                                <div className="relative bg-neutral-950 border border-neutral-800 p-8 flex flex-col items-center justify-center text-center min-h-[120px] break-all transition-colors duration-300 shadow-inner group-hover:border-neutral-700">
                                    <span className={`text-2xl md:text-3xl font-mono font-bold tracking-tight ${getDisplayTextClass()} transition-colors duration-300`}>
                                        {password}
                                    </span>
                                </div>

                                <button
                                    onClick={copyToClipboard}
                                    className="absolute top-3 right-3 p-2 text-neutral-600 hover:text-white transition-colors hover:bg-neutral-800 rounded-md"
                                    title="Copiar"
                                >
                                    {copied ? <ShieldCheck className="w-5 h-5 text-red-500" /> : <Copy className="w-5 h-5" />}
                                </button>
                            </div>

                            <button
                                onClick={generatePassword}
                                className="flex items-center gap-2 bg-red-800 hover:bg-red-700 text-white px-6 py-4 font-bold uppercase tracking-widest transition-all hover:shadow-[0_0_20px_rgba(220,38,38,0.5)] w-full justify-center active:scale-[0.98] group border border-red-900"
                            >
                                <RefreshCw className="w-4 h-4 group-hover:rotate-180 transition-transform duration-500" />
                                Regenerar
                            </button>
                        </div>

                        <div className="bg-neutral-900 p-8 border-t border-neutral-800 space-y-8">

                            <div className="space-y-3">
                                <label className="text-[10px] text-neutral-400 uppercase tracking-[0.2em] flex justify-between">
                                    <span>Palabra Clave</span>
                                    <span className={baseWord.length > 0 ? "text-red-500" : "text-neutral-600"}>{baseWord.length} chars</span>
                                </label>
                                <div className="relative group">
                                    <Edit3 className="absolute left-4 top-1/2 transform -translate-y-1/2 w-4 h-4 text-neutral-600 group-focus-within:text-red-500 transition-colors" />
                                    <input
                                        type="text"
                                        value={baseWord}
                                        onChange={(e) => setBaseWord(e.target.value)}
                                        className="w-full bg-black border border-neutral-800 py-4 pl-12 pr-4 text-white font-mono focus:outline-none focus:border-red-800 transition-all placeholder-neutral-800"
                                        placeholder="Escribe aquí..."
                                    />
                                </div>
                            </div>

                            <div className="space-y-4">
                                <div className="flex justify-between text-xs items-end">
                                    <span className="text-neutral-400 uppercase tracking-[0.2em] text-[10px]">Caracteres Extra</span>
                                    <span className="text-2xl font-mono text-red-600 font-bold leading-none">{extraLength}</span>
                                </div>
                                <input
                                    type="range"
                                    min="0"
                                    max="20"
                                    value={extraLength}
                                    onChange={(e) => setExtraLength(parseInt(e.target.value))}
                                    className="w-full h-1 bg-neutral-800 appearance-none cursor-pointer accent-red-600 hover:accent-red-500"
                                />
                            </div>

                            <div
                                onClick={() => setIsHackerMode(!isHackerMode)}
                                className={`cursor-pointer border p-4 flex items-center justify-between transition-all duration-300 ${isHackerMode ? 'bg-red-950/20 border-red-900/50' : 'bg-neutral-950 border-neutral-800 hover:border-neutral-700'}`}
                            >
                                <div className="flex items-center gap-3">
                                    <div className={`p-2 rounded-full transition-colors ${isHackerMode ? 'bg-red-600 text-white' : 'bg-neutral-800 text-neutral-500'}`}>
                                        <Zap className="w-4 h-4" />
                                    </div>
                                    <div>
                                        <div className={`text-xs font-bold uppercase tracking-wider ${isHackerMode ? 'text-white' : 'text-neutral-400'}`}>
                                            Modo Blindada
                                        </div>
                                        <div className="text-[10px] text-neutral-500 mt-1">
                                            {isHackerMode ? 'Traducción Hacker activada' : 'Texto estándar'}
                                        </div>
                                    </div>
                                </div>

                                <div className={`w-10 h-5 rounded-full relative transition-colors duration-300 ${isHackerMode ? 'bg-red-700' : 'bg-neutral-700'}`}>
                                    <div className={`absolute top-1 w-3 h-3 rounded-full bg-white transition-all duration-300 ${isHackerMode ? 'left-6 shadow-[0_0_10px_white]' : 'left-1'}`}></div>
                                </div>
                            </div>

                            {isHackerMode && (
                                <div className="flex items-center gap-2 text-[10px] text-neutral-500 justify-center">
                                    <Lock className="w-3 h-3" />
                                    <span>Transformando <span className="text-red-500">'{baseWord}'</span> a formato seguro</span>
                                </div>
                            )}

                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<PasswordGenerator />);
    </script>
</body>

</html>